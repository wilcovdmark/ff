<!doctype html>

<html>
	<head>
		<title>D-squad Randomizer</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="initial-scale=1.0">
        	<link rel="stylesheet" type="text/css" href="style.css">
        	
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        	<script src="html2canvas.js"></script>
        	<script src="FileSaver.js"></script>
		<link rel="apple-touch-icon-precomposed" sizes="57x57" href="app-icon.png" />

		<style>

		*{
			padding: 0;
			margin: 0;
			box-sizing: border-box;
			-moz- box-sizing: border-box;
			-webkit- box-sizing: border-box;
			position: relative;
		    }

		    body{
			height: 100vh;
			width: 100%;
			overflow: hidden;

		    }

		    .header{
			border-bottom: 1px solid #999;
			width: 100%;
			height: 15vh;
			display: block;
		    }

		    main{
			width: 100%;
			height: calc(85vh - 80px);
			display: block;
		    }

		    footer{
			width: 100%;
			height: 80px;
			display: block;
			background-color: #ff5757;
		    }

			canvas {
			    border: 1px solid black;
			    width: 100%;
			    height: 100%;
			}

			.button {
			    clear: both;
			    display: block;

			}

			#content {
			    background: rgba(100, 255, 255, 0.5);
			    padding: 50px 10px;
			}
			
			.slider{
                margin: auto;
                width: 100%;
                height: 130px;
                position: relative;
                z-index: 15;
            }
            .slider:nth-child(2){
                top: -35px;
                z-index: 10;
            }
            .slider:nth-child(3){
                top: -53px;
                z-index: 20;
            }
            .slider .images{
                position: relative;
                height: 130px;
            }
            .slider figure{
                float: left;
                display: block;
                width: 130px;
                height: 100%;
                padding: 5px;
                left:-65vw;
            }
            
            .slider figure img{
                width: 100%;
                height: 100%;
            }
            .window{
                overflow: hidden;
                width: 130px;
                height: 130px;
                position: relative;
                margin: auto;
            }
            
            .btn{
                position: absolute;
                width: 50px;
                height: 50px;
                line-height: 50px;
                text-align: center;
                border-radius: 100%;
                cursor: pointer;
            }
            .btn img{
                width: 100%;
                height: 100%;
            }
            .btnLeft{
                top: 45px;
                left: 30px;
            }
            .btnRight{
                top: 45px;
                right: 30px;
            }

		</style>
	</head>

	<body>
		<header class="header">
		    <img/>
		</header>
        
		<main>
            		<div class="head"></div>
            		<div class="body"></div>
            		<div class="legs"></div>
        	</main>
		<!--is het al bijna klaar? -->

        
		<!------------- slider ------------->
        <div class="slider">
            <div class="window">
                <div class="images">
                    <figure>
                        <img src="img/hoofd/hoofdAlpay.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdAndy.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdJoey.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdKevin.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdLeslie.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdNick.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdSam.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdThom.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdTijmen.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdWilco.png">
                    </figure>

                    <figure>
                        <img src="img/hoofd/hoofdWouter.png">
                    </figure>
                    
                    <figure>
                        <img src="img/hoofd/hoofdFrank.png">
                    </figure>
                </div>
            </div>
            <div class="nav">
                <div class="btn btnLeft"><img src="img/links.png"></div>
                <div class="btn btnRight"><img src="img/rechts.png"></div>
            </div>
        </div>
        
        <div class="slider">
            <div class="window">
                <div class="images">
                    <figure>
                        <img src="img/lichaam/lichaamAlpay.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamAndy.png">
                    </figure>
                    
                    <figure>
                        <img src="img/lichaam/lichaamGorilla.png">
                    </figure>
                    
                    <figure>
                        <img src="img/lichaam/lichaamStorm.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamJoey.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamKevin.png">
                    </figure>
                    
                    <figure>
                        <img src="img/lichaam/lichaamTeletubbie.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamLeslie.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamLego.png">
                    </figure>
                    
                    <figure>
                        <img src="img/lichaam/lichaamNick.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamSam.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamLeftshark.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamThom.png">
                    </figure>
                    
                    <figure>
                        <img src="img/lichaam/lichaamTijmen.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamWilco.png">
                    </figure>

                    <figure>
                        <img src="img/lichaam/lichaamRandy.png">
                    </figure>
                    
                    <figure>
                        <img src="img/lichaam/lichaamWouter.png">
                    </figure>
                </div>
            </div>
            <div class="nav">
                <div class="btn btnLeft"><img src="img/links.png"></div>
                <div class="btn btnRight"><img src="img/rechts.png"></div>
            </div>
        </div>
        
        <div class="slider">
            <div class="window">
                <div class="images">
                    <figure>
                        <img src="img/benen/benenAndy.png">
                    </figure>
                    
                    <figure>
                        <img src="img/benen/benenGorilla.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenJoey.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenRandy.png">
                    </figure>
                    
                    <figure>
                        <img src="img/benen/benenKevin.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenLeslie.png">
                    </figure>
                    
                    <figure>
                        <img src="img/benen/benenAlpay.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenLego.png">
                    </figure>
                    
                    <figure>
                        <img src="img/benen/benenNick.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenTeletubbie.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenSam.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenThom.png">
                    </figure>
                    
                    <figure>
                        <img src="img/benen/benenStorm.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenTijmen.png">
                    </figure>
                    
                    <figure>
                        <img src="img/benen/benenLeftshark.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenWilco.png">
                    </figure>

                    <figure>
                        <img src="img/benen/benenWouter.png">
                    </figure>
                </div>
            </div>
            <div class="nav">
                <div class="btn btnLeft"><img src="img/links.png"></div>
                <div class="btn btnRight"><img src="img/rechts.png"></div>
            </div>
        </div>
		
        	<footer>
		    <div class="left"></div>
		    <div class="middle"></div>
		    <div class="right"></div>
		    <div class="button">Run</div>
		    <a id="downloadLnk" href="#" download="YourFileName.png">Download</a>
		</footer>
        
        	<canvas id="canvas" width="1920" height="1080;"></canvas>
	</body>
    	
	<script>
//        var canvas = document.querySelector("canvas");
//        var ctx = canvas.getContext("2d");
//
//        var ctx = canvas.getContext('2d');
//
//
//        document.querySelector("button").addEventListener("click", function() {
//            html2canvas(document.querySelector("main"), {
//                canvas: canvas,
//                allowTaint: true
//            }).then(function(canvas) {
//                console.log('Drew on the existing canvas');
//            });
//        }, false);
//
//        function download() {
//            var dt = canvas.toDataURL('image/png');
//            this.href = dt;
//        };
//        downloadLnk.addEventListener('click', download, false);
        
        $('.btnRight').click(function(){
                var imagesLeft=parseInt($(this).parent().siblings('.window').children('.images').css("left"));
                var imagesWidth=parseInt($(this).parent().siblings('.window').children('.images').css("width"));
                var windowWidth=parseInt($(this).parent().siblings('.window').css("width"));
                var maxLeft=(imagesWidth-windowWidth)*-1;
                
                if(imagesLeft > maxLeft){
                    var toLeft=imagesLeft -130;
                
                    $(this).parent().siblings('.window').children('.images').animate({"left": toLeft});
                }
                
            });
            
             $('.btnLeft').click(function(){
                 var imagesLeft=parseInt($(this).parent().siblings('.window').children('.images').css("left"))
                 if (imagesLeft < 0){   
                     var toLeft= imagesLeft +130;
                     $(this).parent().siblings('.window').children('.images').animate({"left": toLeft});
                 }
            });
            
            $('.slider').each(function(){
                var imagesWidth= $(this).find('.images').children().length * 130;
                
                $(this).find('.images').css({width: imagesWidth + "px"});
            });
        
        
        var canvas = document.querySelector("canvas");
        var ctx = canvas.getContext("2d");

        var ctx = canvas.getContext('2d');


        document.querySelector(".button").addEventListener("click", function() {
            html2canvas(document.querySelector("main"), {
                canvas: canvas,
                allowTaint: true
            }).then(function(canvas) {
                console.log('Drew on the existing canvas');
            });
        }, false);

        function download() {
            var dt = canvas.toDataURL('image/png');
            this.href = dt;
        };
        downloadLnk.addEventListener('click', download, false);

        (function() {
            var canvas = document.getElementById('canvas'),
                context = canvas.getContext('2d');

            // resize the canvas to fill browser window dynamically
            window.addEventListener('resize', resizeCanvas, false);

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;

                /**
                 * Your drawings need to be inside this function otherwise they will be reset when 
                 * you resize the browser window and the canvas goes will be cleared.
                 */
                drawStuff();
            }
            resizeCanvas();

            function drawStuff() {
                // do your drawing stuff here
            }
        })();
        
        
        
        
        
        


    </script>
</html>
